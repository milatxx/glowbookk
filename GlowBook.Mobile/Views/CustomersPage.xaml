<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="GlowBook.Mobile.Views.CustomersPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    BackgroundColor="{StaticResource GbBabyPink}">

    <ContentPage.Content>
        <Grid Padding="24">

            <Border Style="{StaticResource GbCard}">
                <VerticalStackLayout Spacing="12">

                    <Label Text="{Binding Title}"
                           Style="{StaticResource GbCardTitle}" />

                    <Label Text="Overzicht van klanten."
                           FontSize="14"
                           TextColor="Gray" />

                    <HorizontalStackLayout HorizontalOptions="End">
                        <Button Text="Sync"
                                Style="{StaticResource GbPrimaryButton}"
                                Command="{Binding LoadCommand}" />
                    </HorizontalStackLayout>

                    <RefreshView IsRefreshing="{Binding IsBusy}"
                                 Command="{Binding LoadCommand}">
                        <CollectionView ItemsSource="{Binding Customers}">
                            <CollectionView.EmptyView>
                                <Label Text="Geen klanten gevonden."
                                       HorizontalOptions="Center"
                                       VerticalOptions="Center"
                                       TextColor="Gray" />
                            </CollectionView.EmptyView>

                            <CollectionView.ItemTemplate>
                                <DataTemplate>
                                    <Border Style="{StaticResource GbItemCard}">
                                        <VerticalStackLayout Spacing="2">
                                            <Label Text="{Binding Name}"
                                                   FontAttributes="Bold" />
                                            <Label Text="{Binding Email}"
                                                   FontSize="13" />
                                            <Label Text="{Binding Phone}"
                                                   FontSize="12"
                                                   TextColor="Gray" />
                                        </VerticalStackLayout>
                                    </Border>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </RefreshView>

                </VerticalStackLayout>
            </Border>

        </Grid>
    </ContentPage.Content>
</ContentPage>
